#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo -e "\033[1;35mRunning pre-commit checks\033[0m"

# Run your compile command here
hexo clean && hexo g

# Add the compiled files
git add .

echo -e "\033[1;35mStatic resource to generate success\033[0m"

# If no commit message is provided, use the auto-generated message
if [ -z "$1" ]
then
  exec git commit -m "Auto commit at $(date)" --no-verify
else
  exec git commit -m "$1" --no-verify
fi
