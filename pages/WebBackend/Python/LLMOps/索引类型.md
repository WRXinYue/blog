---
title: 索引类型
categories:
 - WebBackend/Python/LLMOps
tags:
 - ''
data: 2023-06-06 16:03:37
updated: 2023-06-06 16:03:37
---

索引类型：

- HNSW（Hierarchical Navigable Small World）：性能高、精确度高、内存消耗大。适用于需要同时追求性能和精确度，且有充足资金支持的大规模数据集。
- FLAT：不压缩向量，保证精确搜索结果，性能稍低但精确度最高，内存消耗次于HNSW。适用于对精确度要求高、对性能要求不高且数据集相对较小的情况（不建议在大规模数据集中使用，因为它会将所有数据一一比对）。
- IVF_FLAT：类似调表的索引，将向量数据划分为多个组，通过比较目标输入向量与每个聚类中心的距离来查询数据。查询时可以设置nprobe参数，选择最接近搜索向量的几个组进行逐个比对。相对节省资源，对精确度有一定损失。
- 推荐参数设置：
    - nlist：建议设为4 × sqrt(n)，其中n表示数据集中的实体数量。
    - nprobe：根据实际情况调节。

其他索引类型：

- IVF_SQ8：具有数据压缩功能（内存节省70-75%），适用于资源受限的情况下代替IVF_FLAT，但精确度会降低。
- IVF_PQ：将高维数据转化为多个低维数据，进一步节省资源，但精确度更低。
- ANNOY：树形索引，适用于低维度向量。关于其适用范围和特点没有具体介绍。
- DISKANN：磁盘索引，内存消耗最小，但需要高性能的SSD，并需要自行编译。实际上还是需要部分内存，大约是全部数据的1/6。