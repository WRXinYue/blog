---
title: JS 正则表达式
date: 2022-10-17 23:47:36.0
updated: 2022-10-26 23:46:10.888
url: /archives/js-zheng-ze-biao-da-shi
categories: 
- WebFrontend
tags: 
- javascript
---

# 正则表达式

正则表达式（regular expression）是一个描述字符模式的对象。JavaScript的RegExp类表示正则表达式。



### 创建正则表达式的对象

**构造函数创建：**

~~~js
var 变量 = new RegExp("正则表达式","匹配模式");
~~~



**字面量方式创建：**

~~~js
var 变量 = /正则表达式/匹配模式;
~~~



> 匹配模式参数:
>
> ~~~js
> 参数：
> i 忽略大小写
> g 全局匹配模式
> m 执行多行匹配
> ~~~

~~~js
var reg = new RegExp("a"); //匹配任何含有“a”的字符串
var reg = new RegExp("a$"); //匹配任何以“a”结束的字符串
var reg = new RegExp("a","i"); //匹配任何含有“a”的字符串并不区分大小写
var reg = /a/i; //匹配任何含有“a”的字符串并不区分大小写（字面量方式创建）
~~~



### 直接量字符

JavaScript正则表达式语法也支持非字母的字符匹配，这些字符需要通过反斜线（\）作为前缀进行转义。

| 字符、字母和数字字符 | 匹配自身                                                  |
| -------------------- | --------------------------------------------------------- |
| \o                   | NUL字符（\u0000）                                         |
| \t                   | 制表符 (\u0009)                                           |
| \n                   | 换行符（\u000A）                                          |
| \v                   | 垂直制表符（\u000B）                                      |
| \f                   | 换页符（\u000C）                                          |
| \r                   | 回车符（\u000D）                                          |
| \xnn                 | 由十六进制数nn指定的拉丁字符，例如: \x0A 等价于 \n        |
| \uxxxx               | 由十六进制数xxxx指定的Unicode字符，例如：\u0009 等价于 \t |
| \cX                  | 控制字符^X，例如：\cJ等价于换行符\n                       |

> 注：在正则表示中，许多标点符号具有特殊含义，它们是：
>
> ^ $ . * + ? = ! : | \ / ( ) [ ] { }

### 字符类

**正则表达式的字符类：**

| 元字符 | 匹配                                           |
| ------ | ---------------------------------------------- |
| [...]  | 方括号内的任意字符                             |
| [^...] | 不在方括号内的任意字符                         |
| .      | 除换行符和其他Unicode行终止符之外的任意字符    |
| \w     | 任何ASCII字符组成的单词，等价于[a-zA-Z0-9]     |
| \W     | 任何不是ASCII字符组成的单词，等价于[a-zA-Z0-9] |
| \s     | 任何Unicode空白符                              |
| \S     | 任何非Unicode空白符的字符                      |
| \d     | 任何ASCII数字，等价于[0-9]                     |
| \D     | 除了ASCII数字之外的任何字符，等价于`[^0-9]`    |
| [\b]   | 退格直接量（特例）                             |

**例子：**

~~~js
var reg = /[abc]/; //匹配任意含有字母“a”、“b”、“c”的字符串
var reg = /[^abc]/; //匹配任意不含有字母“a”、“b”、“c”的字符串
var reg = /[a-z]/; //匹配拉丁字母表中的小写字母
var reg = /[a-zA-Z0-9]/; //匹配拉丁字母表中任何字母和数字
var reg = /[\s\d]/;	//匹配任意空白符或者数字
var reg = /[\b]/; //匹配退格符
~~~



### 量词/重复

量词也称重复。掌握`{m,n}`的准确含义后，只需要记住一些简写形式。

由于某些重复种类非常常用，因此就有一些专门用于表示这种情况的特殊字符。

| 字符  | 含义                                   |
| ----- | -------------------------------------- |
| {n,m} | 匹配n-m次，优先匹配m次                 |
| {n,}  | 匹配n-∞次，优先匹配∞次                 |
| {n}   | 匹配n次                                |
| ?     | 匹配0次或1次，优先匹配1次，等价于{0,1} |
| +     | 匹配1-n次，优先匹配n次，等价于{1,}     |
| *     | 匹配0-n次，优先匹配n次，等价于{0,}     |

**例子：**

~~~js
var reg = /\d{2,4}/;  //匹配2~4个数字
var reg = /\w{3}\d?/;  //精确匹配三个单词和一个可选的数字
var reg = /\s+java\s+/; //匹配前后带有一个或多个空格的字符串“java”
var reg = /[^(]*/	//匹配一个或多个非左括号的字符
~~~

>  注：在使用 “*” 和 “?” 时要注意，由于这些字符可能匹配0个字符，因为它们允许什么都不匹配。例如，正则表达式`/a*/`实际上与字符串"bbbb"匹配，因为这个字符串含有0个a



### 贪婪模式/惰性模式

贪婪模式——在匹配成功的前提下，尽可能多的去匹配

惰性模式——在匹配成功的前提下，尽可能少的去匹配

| {n,m}? | 尽量匹配n次，但不能超过m次                                   |
| ------ | ------------------------------------------------------------ |
| {n}?   | 尽量匹配n次                                                  |
| {n,}?  | 尽量匹配n次或者更多次                                        |
| ??     | 尽量匹配，满足限定条件也可能最多匹配1次，相当于 {0,1}?       |
| +?     | 尽量匹配1次，但是为了满足限定条件也可能匹配任意次，相当于 {1,}? |
| *?     | 尽量不匹配，但是为了满足限定条件也可能匹配任意次，相当于 {0,}? |

## 使用字符串方法

在 JavaScript 中，正则表达式常用于两个*字符串方法*：`search()` 和 `replace()`。

`search()` 方法使用表达式来搜索匹配，然后返回匹配的位置。

~~~js
const regex = /\d{2}a/;
const str = "Hello54 How 64aare you";
console.log(str.split(regex)) // ["Hello54 How ", "are you"]
~~~



`replace()` 方法返回模式被替换处修改后的字符串。

~~~js
const str = 'JavaScript';
const newStr = str.replace("ava", "-");
console.log(newStr);// J-Script
~~~



`text()`使用这个方法可以用来检查一个字符串是否符合正则表达式的规则，符合返回true，否则返回false

~~~js
var result = reg.test(str);
~~~



`test()`字符串匹配到正则表达式时，改方法会提取匹配项

~~~js
var result = reg.match(str);
~~~

